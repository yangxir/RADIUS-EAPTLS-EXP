{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\ud83c\udfaf RADIUS EAP-TLS \u5b9e\u9a8c\u8bb0\u5f55","text":"<p>\u672c\u9879\u76ee\u8bb0\u5f55\u4e86\u4e00\u7cfb\u5217\u5173\u4e8e RADIUS EAP-TLS \u8ba4\u8bc1\u7684\u5b9e\u9a8c\uff0c\u5305\u542b\uff1a</p>"},{"location":"#_1","title":"\ud83d\udccc \u5b9e\u9a8c\u9636\u6bb5","text":"<p>1\ufe0f\u20e3 \u7b2c\u4e00\u9636\u6bb5\uff1aEAP-TLS \u8ba4\u8bc1\u642d\u5efa 2\ufe0f\u20e3 \u7b2c\u4e8c\u9636\u6bb5\uff1a\u6dfb\u52a0 Proxy \u670d\u52a1\u5668 3\ufe0f\u20e3 \u7b2c\u4e09\u9636\u6bb5\uff1a\u5f85\u8865\u5145 4\ufe0f\u20e3 \u7b2c\u56db\u9636\u6bb5\uff1a\u5f85\u8865\u5145  </p>"},{"location":"#_2","title":"\ud83d\ude80 \u7814\u7a76\u76ee\u6807","text":"<p>\ud83d\udd39 \u7814\u7a76 EAP-TLS \u8ba4\u8bc1\u6d41\u7a0b\uff0c\u4f18\u5316\u8eab\u4efd\u9a8c\u8bc1\u6548\u7387 \ud83d\udd39 \u901a\u8fc7 Proxy \u670d\u52a1\u5668 \u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u6d4b\u8bd5 \ud83d\udd39 \u7814\u7a76 \u8de8\u56fd WiFi \u8ba4\u8bc1\u7684\u5b89\u5168\u6027\u548c\u4f18\u5316 </p> <p>\ud83d\udca1 \u66f4\u591a\u4fe1\u606f\u8bf7\u67e5\u770b GitHub \u4ed3\u5e93</p>"},{"location":"en/","title":"Welcome to the RADIUS EAP-TLS Experiment Logs","text":"<p>This project documents a series of EAP-TLS authentication experiments using FreeRADIUS.</p>"},{"location":"en/#experiment-stages","title":"\ud83d\udccc Experiment Stages","text":"<p>1\ufe0f\u20e3 Phase 1: Setting up EAP-TLS authentication 2\ufe0f\u20e3 Phase 2: Adding a Proxy Server 3\ufe0f\u20e3 Phase 3: To be added 4\ufe0f\u20e3 Phase 4: To be added  </p> <p>\ud83d\udca1 For more details, visit GitHub Repository</p>"},{"location":"en/setup/eap-tls/","title":"EAP-TLS RADIUS Server on Ubuntu","text":"<p>This project provides a guide to setting up an EAP-TLS authentication FreeRADIUS server on Ubuntu, including: - Installing FreeRADIUS - Generating EAP-TLS Certificates - Configuring RADIUS Server - Connecting Client Devices - Debugging and Troubleshooting</p>"},{"location":"en/setup/eap-tls/#experiment-environment","title":"\ud83d\ude80 Experiment Environment","text":"<ol> <li>Ubuntu Virtual Machine (as the RADIUS server).</li> <li>Router (as the wireless access point).</li> <li>Redmi K50 Smartphone (as the wireless client).</li> <li>Wireless Network Adapter (for debugging or packet capture).</li> </ol>"},{"location":"en/setup/eap-tls/#1-installing-freeradius","title":"\ud83d\udccc 1. Installing FreeRADIUS","text":"<pre><code>sudo apt update &amp;&amp; sudo apt install freeradius freeradius-utils -y\n</code></pre> <p>Check if the RADIUS server is running:</p> <pre><code>sudo systemctl status freeradius\n</code></pre> <p>If not started:</p> <pre><code>sudo systemctl enable --now freeradius\n</code></pre>"},{"location":"en/setup/eap-tls/#2-configuring-freeradius","title":"\ud83d\udccc 2. Configuring FreeRADIUS","text":""},{"location":"en/setup/eap-tls/#modify-clientsconf","title":"Modify <code>clients.conf</code>","text":"<pre><code>sudo nano /etc/freeradius/3.0/clients.conf\n</code></pre> <p>Add the following entry (\u26a0\ufe0f Replace <code>192.168.51.2</code> with your router's IP \u26a0\ufe0f):</p> <pre><code>client your_router {\n    ipaddr = 192.168.51.2  \n    secret = testing123  \n    shortname = router  \n}\n</code></pre>"},{"location":"en/setup/eap-tls/#enable-eap-module","title":"Enable EAP Module","text":"<pre><code>sudo nano /etc/freeradius/3.0/mods-enabled/eap\n</code></pre> <p>Ensure the following configuration:</p> <pre><code>eap {\n    default_eap_type = tls\n}\n\ntls-config tls-common {\n    private_key_file = /etc/freeradius/3.0/certs/server.key\n    certificate_file = /etc/freeradius/3.0/certs/server.crt\n    CA_file = /etc/freeradius/3.0/certs/ca.crt\n    dh_file = /etc/freeradius/3.0/certs/dh\n    random_file = /dev/urandom\n}\n</code></pre> <p>\u26a0\ufe0f Since my certificates are stored here, you need to replace them with your own certificate paths!</p>"},{"location":"en/setup/eap-tls/#3-generating-certificates","title":"\ud83d\udccc 3. Generating Certificates","text":"<p>Create the certificate directory (if it does not exist):</p> <pre><code>sudo mkdir -p /etc/freeradius/3.0/certs\ncd /etc/freeradius/3.0/certs\n</code></pre>"},{"location":"en/setup/eap-tls/#generate-ca-certificate","title":"Generate CA Certificate","text":"<pre><code>sudo openssl genrsa -out ca.key 2048\nsudo openssl req -x509 -new -nodes -key ca.key -sha256 -days 365 -out ca.crt -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=CA\"\n</code></pre>"},{"location":"en/setup/eap-tls/#generate-server-certificate","title":"Generate Server Certificate","text":"<pre><code>sudo openssl genrsa -out server.key 2048\nsudo openssl req -new -key server.key -out server.csr -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=radius-server.local\"\nsudo openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt -days 365 -sha256\n</code></pre>"},{"location":"en/setup/eap-tls/#generate-client-certificate","title":"Generate Client Certificate","text":"<pre><code>sudo openssl genrsa -out client.key 2048\nsudo openssl req -new -key client.key -out client.csr -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=client\"\nsudo openssl x509 -req -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client.crt -days 365 -sha256\n</code></pre> <p>\u26a0\ufe0f Note: The above commands include information such as \"Tohoku University\" and \"Goto Lab,\" which are specific to my research lab. Please replace them with your own organization details!</p>"},{"location":"en/setup/eap-tls/#create-pkcs12-client-certificate-for-mobile-import","title":"Create PKCS#12 Client Certificate (For Mobile Import)","text":"<pre><code>sudo openssl pkcs12 -export -inkey client.key -in client.crt -certfile ca.crt -out client.p12\n</code></pre>"},{"location":"en/setup/eap-tls/#4-start-freeradius-and-test","title":"\ufffd\ufffd 4. Start FreeRADIUS and Test","text":"<pre><code>sudo systemctl restart freeradius\nsudo journalctl -u freeradius -f\n</code></pre> <p>Test authentication using <code>radtest</code>:</p> <pre><code>radtest user password 127.0.0.1 0 testing123\n</code></pre> <p>If successful, it should return <code>Access-Accept</code>.</p>"},{"location":"en/setup/eap-tls/#5-connect-wireless-clients","title":"\ud83d\udccc 5. Connect Wireless Clients","text":""},{"location":"en/setup/eap-tls/#prepare-client-certificates","title":"Prepare Client Certificates","text":"<ol> <li>Copy <code>client.p12</code> and <code>ca.crt</code> to your smartphone (e.g., using Google Drive).</li> <li>Import the certificates on Android/iPhone:</li> <li>Go to Wi-Fi Advanced Settings, select EAP-TLS authentication.</li> <li>Choose <code>client.p12</code> as the client certificate.</li> <li>Choose <code>ca.crt</code> as the CA certificate.</li> </ol>"},{"location":"en/setup/eap-tls/#6-configure-router","title":"\ud83d\udccc 6. Configure Router","text":"<ol> <li>Open your router management interface.</li> <li>In Wireless Security or Advanced Settings, enable WPA2-Enterprise (EAP-TLS).</li> <li>Set up the RADIUS server address:</li> <li>RADIUS Server IP: <code>Your RADIUS Server IP</code></li> <li>Port: <code>1812</code></li> <li>Secret: <code>testing123</code> (This must match the <code>secret</code> value in <code>clients.conf</code>)</li> </ol> <p>\ud83d\udccc Ensure the RADIUS shared key in <code>clients.conf</code> matches your router configuration</p> <pre><code>client your_router {\n    ipaddr = 192.168.51.2  # Replace with your router IP\n    secret = testing123    # RADIUS shared secret\n    shortname = router     # Alias for easier identification\n}\n</code></pre> <p>\u26a0\ufe0f Note: If the <code>secret</code> in <code>clients.conf</code> does not match the router configuration, RADIUS authentication will fail!</p>"},{"location":"en/setup/eap-tls/#license","title":"\ud83d\udcdc License","text":"<p>This project is licensed under the MIT License. You are free to use and modify it. If you reference or further develop this project, please acknowledge the source.</p>"},{"location":"en/setup/eap-tls/#references","title":"\ud83d\udcda References","text":"<p>This project is based on the following resources: - FreeRADIUS Official Website: https://www.freeradius.org/ - NII Academic Authentication Promotion Office - Eduroam &amp; RADIUS Documentation: NII MeatWiki</p>"},{"location":"en/setup/eap-tls/#contact","title":"\ud83d\udce9 Contact","text":"<p>If you have any questions or suggestions, please submit an issue or visit my GitHub page:</p> <p>\ud83d\udd17 GitHub Profile </p> <p>If you find this project useful, please consider giving it a Star \u2b50!</p>"},{"location":"jp/","title":"RADIUS EAP-TLS \u5b9f\u9a13\u30ed\u30b0\u3078\u3088\u3046\u3053\u305d","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001FreeRADIUS \u3092\u7528\u3044\u305f EAP-TLS \u8a8d\u8a3c\u306e\u5b9f\u9a13 \u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"jp/#_1","title":"\ud83d\udccc \u5b9f\u9a13\u306e\u6bb5\u968e","text":"<p>1\ufe0f\u20e3 \u7b2c1\u6bb5\u968e\uff1aEAP-TLS \u8a8d\u8a3c\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 2\ufe0f\u20e3 \u7b2c2\u6bb5\u968e\uff1a\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u306e\u8ffd\u52a0 3\ufe0f\u20e3 \u7b2c3\u6bb5\u968e\uff1a\u8ffd\u52a0\u4e88\u5b9a 4\ufe0f\u20e3 \u7b2c4\u6bb5\u968e\uff1a\u8ffd\u52a0\u4e88\u5b9a  </p> <p>\ud83d\udca1 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001GitHub \u30ea\u30dd\u30b8\u30c8\u30ea \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044</p>"},{"location":"jp/setup/eap-tls/","title":"Ubuntu \u306b\u304a\u3051\u308b EAP-TLS RADIUS \u30b5\u30fc\u30d0\u30fc","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001Ubuntu \u74b0\u5883\u3067 EAP-TLS \u8a8d\u8a3c\u3092\u4f7f\u7528\u3057\u305f FreeRADIUS \u30b5\u30fc\u30d0\u30fc \u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u624b\u9806\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u542b\u307f\u307e\u3059\uff1a - FreeRADIUS \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb - EAP-TLS \u8a3c\u660e\u66f8\u306e\u751f\u6210 - RADIUS \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a - \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c7\u30d0\u30a4\u30b9\u306e\u63a5\u7d9a - \u30c7\u30d0\u30c3\u30b0\u3068\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0</p>"},{"location":"jp/setup/eap-tls/#_1","title":"\ud83d\ude80 \u5b9f\u9a13\u74b0\u5883","text":"<ol> <li>Ubuntu \u4eee\u60f3\u30de\u30b7\u30f3\uff08RADIUS \u30b5\u30fc\u30d0\u30fc\u3068\u3057\u3066\uff09\u3002</li> <li>\u30eb\u30fc\u30bf\u30fc\uff08\u7121\u7dda\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\uff09\u3002</li> <li>Redmi K50 \u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\uff08Wi-Fi \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066\uff09\u3002</li> <li>\u7121\u7dda\u30a2\u30c0\u30d7\u30bf\u30fc\uff08\u30c7\u30d0\u30c3\u30b0\u3084\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3\u7528\uff09\u3002</li> </ol>"},{"location":"jp/setup/eap-tls/#1-freeradius","title":"\ud83d\udccc 1. FreeRADIUS \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>sudo apt update &amp;&amp; sudo apt install freeradius freeradius-utils -y\n</code></pre> <p>RADIUS \u30b5\u30fc\u30d0\u30fc\u304c\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\uff1a</p> <pre><code>sudo systemctl status freeradius\n</code></pre> <p>\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\u5834\u5408\uff1a</p> <pre><code>sudo systemctl enable --now freeradius\n</code></pre>"},{"location":"jp/setup/eap-tls/#2-freeradius","title":"\ud83d\udccc 2. FreeRADIUS \u306e\u8a2d\u5b9a","text":""},{"location":"jp/setup/eap-tls/#clientsconf","title":"<code>clients.conf</code> \u306e\u7de8\u96c6","text":"<pre><code>sudo nano /etc/freeradius/3.0/clients.conf\n</code></pre> <p>\u6b21\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\uff08\u26a0\ufe0f <code>192.168.51.2</code> \u3092\u30eb\u30fc\u30bf\u30fc\u306e IP \u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044 \u26a0\ufe0f\uff09\uff1a</p> <pre><code>client your_router {\n    ipaddr = 192.168.51.2  \n    secret = testing123  \n    shortname = router  \n}\n</code></pre>"},{"location":"jp/setup/eap-tls/#eap","title":"EAP \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u6709\u52b9\u5316","text":"<pre><code>sudo nano /etc/freeradius/3.0/mods-enabled/eap\n</code></pre> <p>\u6b21\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <pre><code>eap {\n    default_eap_type = tls\n}\n\ntls-config tls-common {\n    private_key_file = /etc/freeradius/3.0/certs/server.key\n    certificate_file = /etc/freeradius/3.0/certs/server.crt\n    CA_file = /etc/freeradius/3.0/certs/ca.crt\n    dh_file = /etc/freeradius/3.0/certs/dh\n    random_file = /dev/urandom\n}\n</code></pre> <p>\u26a0\ufe0f \u79c1\u306e\u8a3c\u660e\u66f8\u306e\u30d1\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5fc5\u305a\u81ea\u5206\u306e\u8a3c\u660e\u66f8\u306e\u30d1\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\uff01</p>"},{"location":"jp/setup/eap-tls/#3","title":"\ud83d\udccc 3. \u8a3c\u660e\u66f8\u306e\u751f\u6210","text":"<p>\u8a3c\u660e\u66f8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\uff08\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\uff09\uff1a</p> <pre><code>sudo mkdir -p /etc/freeradius/3.0/certs\ncd /etc/freeradius/3.0/certs\n</code></pre>"},{"location":"jp/setup/eap-tls/#ca","title":"CA \u8a3c\u660e\u66f8\u306e\u751f\u6210","text":"<pre><code>sudo openssl genrsa -out ca.key 2048\nsudo openssl req -x509 -new -nodes -key ca.key -sha256 -days 365 -out ca.crt -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=CA\"\n</code></pre>"},{"location":"jp/setup/eap-tls/#_2","title":"\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u306e\u751f\u6210","text":"<pre><code>sudo openssl genrsa -out server.key 2048\nsudo openssl req -new -key server.key -out server.csr -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=radius-server.local\"\nsudo openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt -days 365 -sha256\n</code></pre>"},{"location":"jp/setup/eap-tls/#_3","title":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u751f\u6210","text":"<pre><code>sudo openssl genrsa -out client.key 2048\nsudo openssl req -new -key client.key -out client.csr -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=client\"\nsudo openssl x509 -req -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client.crt -days 365 -sha256\n</code></pre> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a \u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3042\u308b \"Tohoku University\" \u3084 \"Goto Lab\" \u306a\u3069\u306f\u79c1\u306e\u7814\u7a76\u5ba4\u306e\u60c5\u5831\u3067\u3059\u306e\u3067\u3001\u3054\u81ea\u8eab\u306e\u7d44\u7e54\u540d\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p>"},{"location":"jp/setup/eap-tls/#pkcs12","title":"PKCS#12 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\uff08\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u7528\uff09","text":"<pre><code>sudo openssl pkcs12 -export -inkey client.key -in client.crt -certfile ca.crt -out client.p12\n</code></pre>"},{"location":"jp/setup/eap-tls/#4-freeradius","title":"\ud83d\udccc 4. FreeRADIUS \u306e\u8d77\u52d5\u3068\u30c6\u30b9\u30c8","text":"<pre><code>sudo systemctl restart freeradius\nsudo journalctl -u freeradius -f\n</code></pre> <p><code>radtest</code> \u3092\u4f7f\u7528\u3057\u3066\u8a8d\u8a3c\u30c6\u30b9\u30c8\uff1a</p> <pre><code>radtest user password 127.0.0.1 0 testing123\n</code></pre> <p>\u6210\u529f\u3059\u308b\u3068\u3001<code>Access-Accept</code> \u304c\u8fd4\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"jp/setup/eap-tls/#5-wi-fi","title":"\ud83d\udccc 5. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e Wi-Fi \u8a2d\u5b9a","text":""},{"location":"jp/setup/eap-tls/#_4","title":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u306e\u6e96\u5099","text":"<ol> <li><code>client.p12</code> \u3068 <code>ca.crt</code> \u3092\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306b\u8ee2\u9001\u3057\u307e\u3059\uff08Google Drive \u306a\u3069\u3092\u4f7f\u7528\uff09\u3002</li> <li>Android/iPhone \u306b\u8a3c\u660e\u66f8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\uff1a</li> <li>Wi-Fi \u306e\u8a73\u7d30\u8a2d\u5b9a \u3067 EAP-TLS \u8a8d\u8a3c \u3092\u9078\u629e\u3002</li> <li><code>client.p12</code> \u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3068\u3057\u3066\u9078\u629e\u3002</li> <li><code>ca.crt</code> \u3092 CA \u8a3c\u660e\u66f8\u3068\u3057\u3066\u9078\u629e\u3002</li> </ol>"},{"location":"jp/setup/eap-tls/#_5","title":"\ud83d\udcdc \u30e9\u30a4\u30bb\u30f3\u30b9","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f MIT License \u306e\u4e0b\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u81ea\u7531\u306b\u4f7f\u7528\u30fb\u5909\u66f4\u3067\u304d\u307e\u3059\u304c\u3001\u5f15\u7528\u307e\u305f\u306f\u4e8c\u6b21\u958b\u767a\u3059\u308b\u5834\u5408\u306f\u51fa\u5178\u3092\u660e\u8a18\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"jp/setup/eap-tls/#_6","title":"\ud83d\udce9 \u9023\u7d61\u5148","text":"<p>\u8cea\u554f\u3084\u63d0\u6848\u304c\u3042\u308b\u5834\u5408\u306f\u3001Issue \u3092\u63d0\u51fa\u3059\u308b\u304b\u3001\u79c1\u306e GitHub \u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <p>\ud83d\udd17 GitHub \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb </p> <p>\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u5f79\u306b\u7acb\u3063\u305f\u5834\u5408\u306f Star \u2b50 \u3092\u304a\u9858\u3044\u3057\u307e\u3059\uff01</p>"},{"location":"setup/eap-tls/","title":"EAP-TLS RADIUS Server on Ubuntu","text":"<p>\u672c\u9879\u76ee\u63d0\u4f9b Ubuntu \u73af\u5883\u4e0b EAP-TLS \u8ba4\u8bc1\u7684 FreeRADIUS \u670d\u52a1\u5668 \u642d\u5efa\u6559\u7a0b\uff0c\u5305\u62ec\uff1a - FreeRADIUS \u5b89\u88c5 - EAP-TLS \u8bc1\u4e66\u751f\u6210 - RADIUS \u670d\u52a1\u5668\u914d\u7f6e - \u7ec8\u7aef\u8bbe\u5907\u8fde\u63a5 - \u8c03\u8bd5\u4e0e\u6392\u9519</p>"},{"location":"setup/eap-tls/#_1","title":"\ud83d\ude80 \u5b9e\u9a8c\u73af\u5883","text":"<ol> <li>Ubuntu \u865a\u62df\u673a\uff08\u4f5c\u4e3a RADIUS \u670d\u52a1\u5668\uff09\u3002</li> <li>\u8def\u7531\u5668\uff08\u4f5c\u4e3a\u65e0\u7ebf\u63a5\u5165\u70b9\uff09\u3002</li> <li>\u7ea2\u7c73 K50 \u624b\u673a\uff08\u4f5c\u4e3a\u65e0\u7ebf\u5ba2\u6237\u7aef\uff09\u3002</li> <li>\u65e0\u7ebf\u7f51\u5361\uff08\u7528\u4e8e\u8c03\u8bd5\u6216\u6293\u5305\uff09\u3002</li> </ol>"},{"location":"setup/eap-tls/#1-freeradius","title":"\ud83d\udccc 1. \u5b89\u88c5 FreeRADIUS","text":"<pre><code>sudo apt update &amp;&amp; sudo apt install freeradius freeradius-utils -y\n</code></pre> <p>\u68c0\u67e5 RADIUS \u670d\u52a1\u5668\u662f\u5426\u6b63\u5e38\u8fd0\u884c\uff1a</p> <pre><code>sudo systemctl status freeradius\n</code></pre> <p>\u5982\u679c\u672a\u542f\u52a8\uff1a</p> <pre><code>sudo systemctl enable --now freeradius\n</code></pre>"},{"location":"setup/eap-tls/#2-freeradius","title":"\ud83d\udccc 2. \u914d\u7f6e FreeRADIUS","text":""},{"location":"setup/eap-tls/#clientsconf","title":"\u4fee\u6539 <code>clients.conf</code>","text":"<pre><code>sudo nano /etc/freeradius/3.0/clients.conf\n</code></pre> <p>\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff08\u26a0\ufe0f \u8bf7\u66ff\u6362 <code>192.168.51.2</code> \u4e3a\u4f60\u7684\u8def\u7531\u5668 IP \u26a0\ufe0f\uff09\uff1a</p> <pre><code>client your_router {\n    ipaddr = 192.168.51.2  \n    secret = testing123  \n    shortname = router  \n}\n</code></pre>"},{"location":"setup/eap-tls/#eap","title":"\u542f\u7528 EAP \u6a21\u5757","text":"<pre><code>sudo nano /etc/freeradius/3.0/mods-enabled/eap\n</code></pre> <p>\u786e\u4fdd\u4ee5\u4e0b\u5185\u5bb9\u6b63\u786e\uff1a</p> <pre><code>eap {\n    default_eap_type = tls\n}\n\ntls-config tls-common {\n    private_key_file = /etc/freeradius/3.0/certs/server.key\n    certificate_file = /etc/freeradius/3.0/certs/server.crt\n    CA_file = /etc/freeradius/3.0/certs/ca.crt\n    dh_file = /etc/freeradius/3.0/certs/dh\n    random_file = /dev/urandom\n}\n\n</code></pre> <p>\u26a0\ufe0f \u56e0\u4e3a\u6211\u7684\u8bc1\u4e66\u90fd\u653e\u5728\u8fd9\uff0c\u4f60\u9700\u8981\u6362\u6210\u4f60\u81ea\u5df1\u8bc1\u4e66\u7684\u4f4d\u7f6e\uff01</p>"},{"location":"setup/eap-tls/#3","title":"\ufffd\ufffd 3. \u751f\u6210\u8bc1\u4e66","text":"<p>\u521b\u5efa\u8bc1\u4e66\u76ee\u5f55\uff08\u5982\u679c\u4e0d\u5b58\u5728\uff09\uff1a</p> <pre><code>sudo mkdir -p /etc/freeradius/3.0/certs\ncd /etc/freeradius/3.0/certs\n</code></pre>"},{"location":"setup/eap-tls/#ca","title":"\u751f\u6210 CA \u8bc1\u4e66","text":"<pre><code>sudo openssl genrsa -out ca.key 2048\nsudo openssl req -x509 -new -nodes -key ca.key -sha256 -days 365 -out ca.crt -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=CA\"\n</code></pre>"},{"location":"setup/eap-tls/#_2","title":"\u751f\u6210\u670d\u52a1\u5668\u8bc1\u4e66","text":"<pre><code>sudo openssl genrsa -out server.key 2048\nsudo openssl req -new -key server.key -out server.csr -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=radius-server.local\"\nsudo openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt -days 365 -sha256\n</code></pre>"},{"location":"setup/eap-tls/#_3","title":"\u751f\u6210\u5ba2\u6237\u7aef\u8bc1\u4e66","text":"<pre><code>sudo openssl genrsa -out client.key 2048\nsudo openssl req -new -key client.key -out client.csr -subj \"/C=JP/ST=Miyagi/L=Sendai/O=Tohoku University/OU=Goto Lab/CN=client\"\nsudo openssl x509 -req -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client.crt -days 365 -sha256\n</code></pre> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a \u4e0a\u9762\u7684\u547d\u4ee4\u4e2d\uff0c\"Tohoku University\"\u3001\"Goto Lab\" \u7b49\u5185\u5bb9\u662f\u6211\u7814\u7a76\u5ba4\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u4f60\u9700\u8981\u66ff\u6362\u6210\u4f60\u81ea\u5df1\u7684\u5355\u4f4d\u6216\u7ec4\u7ec7\u540d\u79f0\uff01</p>"},{"location":"setup/eap-tls/#pkcs12","title":"\u521b\u5efa PKCS#12 \u5ba2\u6237\u7aef\u8bc1\u4e66\uff08\u7528\u4e8e\u624b\u673a\u5bfc\u5165\uff09","text":"<pre><code>sudo openssl pkcs12 -export -inkey client.key -in client.crt -certfile ca.crt -out client.p12\n</code></pre>"},{"location":"setup/eap-tls/#4-freeradius","title":"\ud83d\udccc 4. \u542f\u52a8 FreeRADIUS \u5e76\u6d4b\u8bd5","text":"<pre><code>sudo systemctl restart freeradius\nsudo journalctl -u freeradius -f\n</code></pre> <p>\u4f7f\u7528 <code>radtest</code> \u8fdb\u884c\u8ba4\u8bc1\u6d4b\u8bd5\uff1a</p> <pre><code>radtest user password 127.0.0.1 0 testing123\n</code></pre> <p>\u5982\u679c\u6210\u529f\uff0c\u5e94\u8be5\u8fd4\u56de <code>Access-Accept</code>\u3002</p>"},{"location":"setup/eap-tls/#5","title":"\ud83d\udccc 5. \u8fde\u63a5\u65e0\u7ebf\u5ba2\u6237\u7aef","text":""},{"location":"setup/eap-tls/#_4","title":"\u51c6\u5907\u5ba2\u6237\u7aef\u8bc1\u4e66","text":"<ol> <li>\u590d\u5236 <code>client.p12</code> \u548c <code>ca.crt</code> \u5230\u624b\u673a\uff08\u53ef\u4ee5\u4f7f\u7528 Google Drive\uff09\u3002</li> <li>\u5728 Android / iPhone \u4e0a\u5bfc\u5165\u8bc1\u4e66\uff1a</li> <li>\u8fdb\u5165 Wi-Fi \u9ad8\u7ea7\u8bbe\u7f6e\uff0c\u9009\u62e9 EAP-TLS \u8ba4\u8bc1\u3002</li> <li>\u9009\u62e9 <code>client.p12</code> \u4f5c\u4e3a\u5ba2\u6237\u7aef\u8bc1\u4e66\u3002</li> <li>\u9009\u62e9 <code>ca.crt</code> \u4f5c\u4e3a CA \u8bc1\u4e66\u3002</li> </ol>"},{"location":"setup/eap-tls/#6","title":"\ud83d\udccc 6. \u914d\u7f6e\u8def\u7531\u5668","text":"<ol> <li>\u8fdb\u5165\u8def\u7531\u5668\u7ba1\u7406\u754c\u9762\u3002</li> <li>\u5728 \u65e0\u7ebf\u5b89\u5168 \u6216 \u9ad8\u7ea7\u8bbe\u7f6e \u4e2d\uff0c\u542f\u7528 WPA2-Enterprise\uff08EAP-TLS\uff09\u3002</li> <li>\u914d\u7f6e RADIUS \u670d\u52a1\u5668\u5730\u5740\uff1a</li> <li>RADIUS Server IP: <code>\u4f60\u7684 RADIUS \u670d\u52a1\u5668 IP</code></li> <li>Port: <code>1812</code></li> <li>Secret: <code>testing123</code> \uff08\u6b64\u5bc6\u7801\u5e94\u4e0e <code>clients.conf</code> \u6587\u4ef6\u4e2d\u7684 <code>secret</code> \u5b57\u6bb5\u4e00\u81f4\uff09</li> </ol> <p>\ud83d\udccc \u786e\u4fdd <code>clients.conf</code> \u6587\u4ef6\u4e2d\u7684 RADIUS \u5171\u4eab\u5bc6\u94a5\u4e00\u81f4</p> <pre><code>client your_router {\n    ipaddr = 192.168.51.2  # \u66ff\u6362\u4e3a\u4f60\u7684\u8def\u7531\u5668 IP\n    secret = testing123    # RADIUS \u5171\u4eab\u5bc6\u94a5\n    shortname = router     # \u7b80\u79f0\uff0c\u4fbf\u4e8e\u8bc6\u522b\n}\n</code></pre> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u5982\u679c clients.conf \u4e2d\u7684 secret \u4e0e\u8def\u7531\u5668\u914d\u7f6e\u7684\u4e0d\u5339\u914d\uff0cRADIUS \u8ba4\u8bc1\u5c06\u5931\u8d25\uff01</p>"},{"location":"setup/eap-tls/#7","title":"\ud83d\udd27 7. \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":""},{"location":"setup/eap-tls/#eap-tls","title":"EAP-TLS \u8ba4\u8bc1\u5931\u8d25","text":"<pre><code>TLS Alert: unknown CA\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a - \u786e\u4fdd\u5ba2\u6237\u7aef\u5df2\u5bfc\u5165 <code>ca.crt</code>\u3002 - \u4f7f\u7528 <code>openssl verify -CAfile ca.crt server.crt</code> \u8fdb\u884c\u9a8c\u8bc1\u3002</p>"},{"location":"setup/eap-tls/#freeradius","title":"FreeRADIUS \u65e0\u6cd5\u542f\u52a8","text":"<pre><code>Failed to start freeradius.service\n</code></pre> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <pre><code>sudo systemctl restart freeradius\nsudo journalctl -u freeradius -f\n</code></pre>"},{"location":"setup/eap-tls/#_5","title":"\u8bc1\u4e66\u8fc7\u671f","text":"<p>\u5982\u679c\u8bc1\u4e66\u65e0\u6548\uff0c\u6e05\u7406\u540e\u91cd\u65b0\u751f\u6210\uff1a</p> <pre><code>sudo rm /etc/freeradius/3.0/certs/*.crt\nsudo rm /etc/freeradius/3.0/certs/*.key\nsudo rm /etc/freeradius/3.0/certs/*.csr\nsudo rm /etc/freeradius/3.0/certs/*.srl\nbash scripts/generate_certs.sh\n</code></pre>"},{"location":"setup/eap-tls/#license","title":"\ud83d\udcdc License","text":"<p>\u672c\u9879\u76ee\u57fa\u4e8e MIT License\uff0c\u6b22\u8fce\u81ea\u7531\u4f7f\u7528\u548c\u4fee\u6539\u3002\u5982\u9700\u5f15\u7528\u6216\u4e8c\u6b21\u5f00\u53d1\uff0c\u8bf7\u6ce8\u660e\u6765\u6e90\u3002</p>"},{"location":"setup/eap-tls/#_6","title":"\ud83d\udcda \u53c2\u8003\u8d44\u6599","text":"<p>\u672c\u9879\u76ee\u7684\u5185\u5bb9\u57fa\u4e8e\u4ee5\u4e0b\u8d44\u6e90\uff1a - FreeRADIUS \u5b98\u65b9\u7f51\u7ad9: https://www.freeradius.org/ - NII \u5b66\u672f\u8ba4\u8bc1\u63a8\u8fdb\u5ba4 - Eduroam \u4e0e RADIUS \u76f8\u5173\u6587\u6863: NII MeatWiki</p>"},{"location":"setup/eap-tls/#_7","title":"\ud83d\udce9 \u8054\u7cfb\u65b9\u5f0f","text":"<p>\u5982\u679c\u4f60\u6709\u4efb\u4f55\u95ee\u9898\u6216\u5efa\u8bae\uff0c\u53ef\u4ee5\u63d0\u4ea4 Issue \u53cd\u9988\uff0c\u6216\u8005\u8bbf\u95ee\u6211\u7684 GitHub \u4e3b\u9875\uff1a</p> <p>\ud83d\udd17 GitHub \u4e3b\u9875 </p> <p>\u5982\u679c\u89c9\u5f97\u672c\u9879\u76ee\u6709\u5e2e\u52a9\uff0c\u6b22\u8fce Star \u2b50 \u652f\u6301\uff01</p>"}]}